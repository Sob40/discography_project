<div class="card mb-3 nested-field">
  <div class="card-body">
    <%= f.hidden_field :_destroy, class: "destroy-flag" %>

    <div class="mb-3">
      <div class="input-group">
        <span class="input-group-text">Song Name</span>
        <%= f.text_field :name, class: "form-control #{'is-invalid' if f.object.errors[:name].present?}", placeholder: "Enter song name" %>
      </div>
      <% if f.object.errors[:name].present? %>
        <div class="invalid-feedback d-block"><%= f.object.errors[:name].first %></div>
      <% end %>
    </div>

    <div class="mb-3">
      <%= f.label :author_ids, "Authors", class: "form-label" %>

      <%= f.collection_select :author_ids, Author.order(:name), :id, :name,
          {},
          { multiple: true, name: "#{f.object_name}[author_ids][]", class: "form-select author-select", size: 5 } %> 

      <% if f.object.errors[:authors].present? %>
        <div class="invalid-feedback d-block"><%= f.object.errors[:authors].first %></div>
      <% end %>
    </div>

    <div class="text-end">
      <button data-action="click->nested-fields#remove" type="button" class="btn btn-danger btn-sm">
        Remove Song
      </button>
    </div>
  </div>
</div>